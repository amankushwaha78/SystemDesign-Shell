<!-- 
1. System Requirements :
-----------------------
    Functional Requirements :
    1. User Service :   i).  User authentication (sign up, login)             [OAuth, JWT].
                        ii). Profile creation and updates                     [PostgreSQL (DB)].

    2. Post Service :   i).  Uploading and storing posts                      [MongoDB, S3].
                        ii). Post deletion and updates                        [MongoDB].

    3. Engagement Service : i). Likes and comments on posts                   [MySQL Triggers].
                            ii). Storing engagement data                      [MySQL].

    4. Follower Service : i). Follow/Unfollow users                           [Graph Algorithms].
                          ii). Maintaining relationships                      [Neo4j].

    5. Publish a new Feed Service: i). Aggregating posts for the user feed    [Kafka, Spark].
                                  ii). Personalized ranking of feed           [Cassandra].

    6. Recommendation Service : i). AI-based post and user suggestions        [ML, TensorFlow].
                                ii). Store and update recommendation data     [Neo4j].

    7. Cache Service : i). Fast retrieval of frequently accessed data         [Redis Clustering].

    Other Services :
    8. Event Processing : To handle real-time data streaming                  [Kafka (Event Streaming)].
    9. AI Moderation Service : i). Content filtering and safety checks        [OpenAI API, TensorFlow].
    10. Analytics Engine : i). User behavior insights                         [BigQuery, Apache Flink].
    11. Push Notification Service :                                           [Firebase / SNS / Twilio (For real-time alerts)].
-->


<!-- 
    Instagram News Feed System Design: Optimized Microservices Architecture

                            ┌────────────────────────────────────────────┐
                            │              API Gateway (Nginx)           │
                            └────────────────────────────────────────────┘
                                                ⬇
    ┌───────────────────────────────────────────────────────────────────────────────────────────┐
    │                                      Microservices Layer                                  │
    ├───────────────────────────────────────────────────────────────────────────────────────────┤
    │                                                                                           │
    │   ┌────────────────────────┐     ┌────────────────────────┐     ┌────────────────────────┐│
    │   │  User Service          │     │  Post Service          │     │  Engagement Service    ││
    │   │  (Profiles, Auth)      │     │  (Upload, Media)       │     │  (Likes, Comments)     ││
    │   │  [OAuth, JWT]          │     │  [Cloudinary, S3]      │     │  [MySQL Triggers]      ││
    │   │                        │     │                        │     │                        ││
    │   │  ┌──────────────────┐  │     │  ┌──────────────────┐  │     │  ┌──────────────────┐  ││
    │   │  │  PostgreSQL      │  │     │  │  MongoDB         │  │     │  │  MySQL           │  ││
    │   │  └──────────────────┘  │     │  └──────────────────┘  │     │  └──────────────────┘  ││
    │   └────────────────────────┘     └────────────────────────┘     └────────────────────────┘│
    │                                                                                           │
    │   ┌────────────────────────┐     ┌────────────────────────┐     ┌────────────────────────┐│
    │   │  Follower Service      │     │  Feed Service          │     │  Recommendation Service││
    │   │  (Follow/Unfollow)     │     │  (News Aggregation)    │     │  (AI-based Ranking)    ││
    │   │  [Graph Algorithms]    │     │  [Kafka, Spark]        │     │  [ML, TensorFlow]      ││
    │   │                        │     │                        │     │                        ││
    │   │  ┌──────────────────┐  │     │  ┌──────────────────┐  │     │  ┌──────────────────┐  ││
    │   │  │  Neo4j           │  │     │  │  Cassandra       │  │     │  │  Neo4j           │  ││
    │   │  └──────────────────┘  │     │  └──────────────────┘  │     │  └──────────────────┘  ││
    │   └────────────────────────┘     └────────────────────────┘     └────────────────────────┘│
    │                                                                                           │
    │   ┌────────────────────────┐                                                              │
    │   │  Cache Service         │                                                              │
    │   │  (Fast Retrieval)      │                                                              │
    │   │  [Redis Clustering]    │                                                              │
    │   │                        │                                                              │
    │   │  ┌──────────────────┐  │                                                              │
    │   │  │  Redis           │  │                                                              │
    │   │  └──────────────────┘  │                                                              │
    │   └────────────────────────┘                                                              │
    │                                                                                           │
    └───────────────────────────────────────────────────────────────────────────────────────────┘
                                            ⬇
    ┌───────────────────────────────────────────────────────────────────────────────────────────┐
    │                                  Background Processing & Event Handling                   │
    ├───────────────────────────────────────────────────────────────────────────────────────────┤
    │                                                                                           │
    │   ┌───────────────────────────────────────────────────────────────────────────────────┐   │
    │   │                                  Kafka (Event Streaming)                          │   │
    │   └───────────────────────────────────────────────────────────────────────────────────┘   │
    │                                                                                           │
    │   ┌─────────────────────────────┐     ┌──────────────────────────────┐                    │
    │   │ AI Moderation Service       │     │  Analytics Engine            │                    │
    │   │ (Content filtering, Safety) │     │ (User behavior insights)     │                    │
    │   │ [OpenAI API, TensorFlow]    │     │ [BigQuery, Apache Flink]     │                    │
    │   └─────────────────────────────┘     └──────────────────────────────┘                    │
    │                                                                                           │
    └───────────────────────────────────────────────────────────────────────────────────────────┘
                                           ⬇
    ┌───────────────────────────────────────────────────────────────────────────────────────────┐
    │                                   Push Notification Service                               │
    ├───────────────────────────────────────────────────────────────────────────────────────────┤
    │                                                                                           │
    │   ┌───────────────────────────┐     ┌───────────────────────-────┐                        │
    │   │ Firebase Cloud Messaging  │     │  Amazon SNS / Twilio       │                        │
    │   │ (Mobile notifications)    │     │  (SMS & Push notifications)│                        │
    │   │ [WebSockets, Pub/Sub]     │     │ [Lambda Functions]         │                        │
    │   └───────────────────────────┘     └────────────────────────-───┘                        │
    │                                                                                           │
    └───────────────────────────────────────────────────────────────────────────────────────────┘

    -->
